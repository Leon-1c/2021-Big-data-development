#### 1.基本功能
- 上传：根据文件大小自动选择上传模式，当文件大于20M，使用分片上传，同时具有断点续传功能。
- 下载：根据文件大小自动选择下载模式，当文件大于20M，使用分段下载，同时具有断点续传功能。
- 删除：根据不同的同步模式，检测并删除多余文件。
- 文件同步：可选择两种同步模式：本地/云端，系统根据选择的模式进行文件同步

#### 2.代码函数解析
```md5sum(path)```
输入以本地同步文件夹为根目录的文件地址，返回本地文件的md5值，对于小于20M的小文件，使用普通的md5计算方法；对于分片上传到云端的大文件，使用与s3在云端计算ETag的特殊算法。  
  
```gci(nlist,path)```
递归遍历在path下的所有文件，包括子文件夹，返回一个文件名list，存放在nlist。  
  
```connect()```
创建s3的client连接。  
  
```get_bucket_filename(s3_client)```
获取桶内所有文件名（不包含文件夹），以列表的形式返回这些文件的信息，其中包括文件名```key```，文件```ETag```，文件最后修改时间```lastmodifytime```。  
  
```get_local_filename```
获取本地文件夹下所有文件名（不包含文件夹），以列表的形式返回这些文件的信息，其中包括文件名```key```，文件```ETag```，文件最后修改时间```lastmodifytime```。  
  
```upload(s3_client, filename)```
上传文件，如果文件大于20M，则使用分片上传，否则直接上传。在进行分片上传时，先检查文件是否有已上传的分段，如果有则直接跳过已上传部分，进行剩余部分上传。  
  
```download(s3_client, key)```
下载文件，如果文件大于20M，则使用分段下载，否则直接下载。在进行分段下载时，先检查文件在本地是否有缓存，如果有则继续下载剩余部分。  
  
```synchronize(s3_client, mod)```
根据模式进行文件同步，local模式以本地文件夹为基础，同步到云端；bucket模式以云端文件为基础，同步到本地。  
  
```lambda```
负责给云端文件增加一个meta数据```lastmodifytime```最后修改时间，目的是与本地文件进行比较。  
  
#### 3.具体实现
##### 文件名相同，同步判断：
首先根据文件的md5值判断云端与本地的文件是否属于同一文件，若md5值一致，则进行下一个文件的判断，若不一致，则根据最后修改时间进行判断，以最新的文件作为基准进行上传/下载。  
##### 文件名不同，模式判断：
根据初始选择的模式来判断，若选择local模式，则本地有而云端没有的文件要上传，本地没有而云端有的文件要删除。  




